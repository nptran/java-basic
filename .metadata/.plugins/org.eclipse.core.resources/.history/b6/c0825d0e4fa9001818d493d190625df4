package baitapso1;

import java.util.Random;
import java.util.Scanner;

public class Bai20 {
	
	private static Scanner scanner = new Scanner(System.in);
	
	private static final int MAX = 500;
	
	private static int[] randomArray(int max, int d) {
		Random random = new Random();
		int size = random.nextInt(max);
		int[] arr = new int[size];

		System.out.printf("Mảng ngẫu nhiên %d phần tử đã được tạo\n", size);
		
		for (int i=0; i<size; i++) {
			//to create random a d-digit number.
			arr[i] = (int) (random.nextInt((int)(Math.pow(10,d)-Math.pow(10, d-1))) + Math.pow(10, d-1));
		}
		showArray(arr);
		return arr;
	}
	private static void showArray(int[] arr) {
		for (int i=0; i <arr.length; i++) {
			System.out.printf("%d. %d", i, arr[i]);
		}
	}
	
	//to input a 4-digits number 
	private static int inputX() {
		int x;
		do {
			x = scanner.nextInt();
		} while (x<1000 && x>9999);
		return x;
	}
	
	private static int output(int[] arr, int number) {
		int distance = 0;
		int position = 0;
		for (int i=0; i <arr.length; i++) {
			if (Function.isPrime(arr[i])) {
				distance = arr[i] - number;
				position = i;
				break;
			}
		}
		for (int i=0; i <arr.length; i++) {
			if (Function.isPrime(arr[i])) {
				if (distance < (arr[i] - number)) {
					position = i;
				}
			}
		}
		
		return position;
	}
	
	public static void main(String[] args) {
		int[] arr = randomArray(MAX, 4);
		int x = inputX();
		System.out.printf("Số nguyên tố gần nhất với %d là %d ở vị trí %d.", x, arr[output(arr, x)], output(arr, x));
	}
}
